---
import Layout from '@/layouts/Layout.astro';
import CVPage from '@/components/CVPage.astro';
import CVFirstPage from '@/components/CVFirstPage.astro';
import CVSecondPage from '@/components/CVSecondPage.astro';
import Button from '@/components/Button.astro';
import TableOfContents from '@/components/ui/TableOfContents';
import ReadingGuide from '@/components/ReadingGuide';
import ScrollProgress from '@/components/ScrollProgress';
---

<Layout title="Allison Peña - CV" description="CV de Allison Peña" lang="es">
    <ScrollProgress client:load />
    <ReadingGuide client:load />
    
 

    <style>
        @layer base {
            :root {
                /* Variables para ajustar el tamaño de impresión */
                --print-width: 100vw;
                --print-height: 90vh;
                --print-padding: 0mm;
                --print-border-width: 2px;
            }

            @page {
                size: A4;
                margin: 4mm;
            }
        }

        @layer utilities {
            .cv-page-print {
                width: var(--print-width) !important;
                height: var(--print-height) !important;
                min-height: var(--print-height) !important;
                max-height: var(--print-height) !important;
                /* margin: 0 auto !important; */
                padding: var(--print-padding) !important;
                border: var(--print-border-width) solid black !important;
                box-sizing: border-box !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
                background: white !important;
                color: black !important;
                font-family: 'Times New Roman', serif !important;
                --color-main: black !important;
                --color-secondary: white !important;
            }
        }
    </style>

    <!-- Full height layout with content and sidebar -->
    <div class="flex min-h-screen print:block" id="cv-content-container">
        <!-- Main content area -->
        <main class="flex-1 min-w-0 print:min-w-full" id="cv-content">
            <!-- Contenedor responsivo: flujo normal en móvil, hojas en desktop -->
            <div class="space-y-8 mb-20 print:space-y-0 print:mb-0 ">
                <CVPage>
                    <CVFirstPage lang="es" />
                </CVPage>
                <CVPage>
                    <CVSecondPage lang="es" />
                </CVPage>
            </div>
        </main>
        
        <!-- Desktop Sidebar - Table of Contents -->
        <TableOfContents 
            client:load 
            contentId="cv-content" 
            readingGuideToggleId="reading-guide-toggle"
            className="print:hidden"
        />
    </div>

</Layout>