---
import { getTranslations } from '@/i18n/utils';
import { defaultLang, type Language } from '@/i18n/ui';
import ThemedImage from '@/components/ThemedImage.astro';

interface Props {
    lang?: Language;
    className?: string;
}

const { lang = defaultLang, className = '' } = Astro.props;
const t = getTranslations(lang);
---

<aside class={`w-[280px] flex-shrink-0 hidden lg:block ${className} print:hidden`} id="cv-contact-sidebar">
    <div class="sticky top-20 py-8 px-4 space-y-6">
        
        <!-- Professional Header with Photo -->
        <div class="text-center border-b-2 border-main pb-6">
            <div class="w-32 h-32 mx-auto mb-4 rounded-full overflow-hidden border-2 border-main">
                <ThemedImage 
                    src="/img/me.png" 
                    alt="Allison Peña" 
                    class="w-full h-full object-cover"
                />
            </div>
            <h1 class="text-xl font-bold mb-1 leading-tight">ALLISON JOSUÉ<br>PEÑA BARRIOS</h1>
            <p class="text-sm font-semibold text-main opacity-80">Desarrollador Full-Stack</p>
        </div>

        <!-- Contact Information -->
        <div class="space-y-4">
            <h2 class="text-xs font-mono font-bold uppercase tracking-wide text-main opacity-60 border-b border-main pb-1">
                Información de contacto
            </h2>
            
            <!-- Location -->
            <div class="flex items-start gap-3">
                <div class="w-5 h-5 mt-0.5 flex-shrink-0">
                    <svg class="w-full h-full text-main" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                </div>
                <div>
                    <div class="text-xs font-bold uppercase tracking-wide text-main opacity-60">Ubicación</div>
                    <div class="text-sm font-mono text-main">Santiago, Chile</div>
                </div>
            </div>

            <!-- Email -->
            <div class="flex items-start gap-3">
                <div class="w-5 h-5 mt-0.5 flex-shrink-0">
                    <svg class="w-full h-full text-main" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.73c.7.42 1.52.42 2.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                    </svg>
                </div>
                <div>
                    <div class="text-xs font-bold uppercase tracking-wide text-main opacity-60">Email</div>
                    <a href="mailto:Allison.jpb+cv@gmail.com" class="text-sm font-mono text-main hover:underline hover:opacity-70 break-all">
                        Allison.jpb+cv@gmail.com
                    </a>
                </div>
            </div>

            <!-- Phone -->
            <div class="flex items-start gap-3">
                <div class="w-5 h-5 mt-0.5 flex-shrink-0">
                    <svg class="w-full h-full text-main" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                    </svg>
                </div>
                <div>
                    <div class="text-xs font-bold uppercase tracking-wide text-main opacity-60">Teléfono</div>
                    <a href="tel:+56998120052" class="text-sm font-mono text-main hover:underline hover:opacity-70">
                        +56 9 9812 0052
                    </a>
                </div>
            </div>

            <!-- LinkedIn -->
            <div class="flex items-start gap-3">
                <div class="w-5 h-5 mt-0.5 flex-shrink-0">
                    <svg class="w-full h-full text-main" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path>
                    </svg>
                </div>
                <div>
                    <div class="text-xs font-bold uppercase tracking-wide text-main opacity-60">LinkedIn</div>
                    <a href="https://linkedin.com/in/skryensya" target="_blank" rel="noopener noreferrer" class="text-sm font-mono text-main hover:underline hover:opacity-70">
                        /in/skryensya
                    </a>
                </div>
            </div>
        </div>

        <!-- Languages -->
        <div class="space-y-4 border-t-2 border-main pt-6">
            <h2 class="text-xs font-mono font-bold uppercase tracking-wide text-main opacity-60">
                Idiomas
            </h2>
            
            <div class="space-y-3">
                <div class="flex items-center justify-between">
                    <span class="text-sm font-mono">Español</span>
                    <span class="bg-main text-secondary px-2 py-1 text-xs font-bold">NATIVO</span>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-sm font-mono">Inglés</span>
                    <span class="bg-secondary text-main px-2 py-1 text-xs font-bold border-2 border-main">AVANZADO</span>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-sm font-mono">Noruego</span>
                    <span class="bg-secondary text-main px-2 py-1 text-xs font-bold border-2 border-main opacity-70">BÁSICO</span>
                </div>
            </div>
        </div>

        <!-- Professional Summary -->
        <div class="space-y-4 border-t-2 border-main pt-6">
            <h2 class="text-xs font-mono font-bold uppercase tracking-wide text-main opacity-60">
                Acerca de mí
            </h2>
            <p class="text-sm leading-relaxed text-main italic">
                Transformo ideas en experiencias digitales que realmente funcionan. Mi especialidad es crear 
                interfaces accesibles que miles de usuarios utilizan diariamente, aplicando las mejores 
                prácticas de desarrollo frontend con un enfoque obsesivo en la usabilidad.
            </p>
        </div>

        <!-- Download CV Button -->
        <div class="border-t-2 border-main pt-6">
            <button onclick="window.print()" class="w-full bg-main text-secondary border-2 border-main hover:bg-secondary hover:text-main px-4 py-3 font-mono text-sm font-bold uppercase tracking-wide transition-colors">
                Descargar CV
            </button>
        </div>

    </div>
</aside>