---
export interface Props {
  cards?: Array<{
    title: string;
    content: string;
    href?: string;
  }>;
}

const { cards = [] } = Astro.props;

// Default cards if none provided
const defaultCards = [
  { title: "Card 1", content: "Lorem ipsum dolor sit amet, consectetur adipiscing elit." },
  { title: "Card 2", content: "Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua." },
  { title: "Card 3", content: "Ut enim ad minim veniam, quis nostrud exercitation ullamco." },
  { title: "Card 4", content: "Duis aute irure dolor in reprehenderit in voluptate velit esse." },
  { title: "Card 5", content: "Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error." }
];

const cardsToShow = cards.length > 0 ? cards : defaultCards;
---

<div class="grid grid-cols-3 grid-rows-2 gap-4 w-full">
  {cardsToShow.map((card, index) => {
    const isFirstCard = index === 0;
    const isLastCard = index === cardsToShow.length - 1;
    const cardClasses = `
      bg-main text-secondary p-6 relative overflow-hidden
      ${isLastCard ? 'col-span-2' : 'col-span-1'}
      flex flex-col justify-between
    `;
    
    return (
      <div class={cardClasses}>
        <div>
          <h3 class="text-lg font-semibold mb-3 text-secondary">{card.title}</h3>
          <p class="text-secondary/90 leading-relaxed">{card.content}</p>
        </div>
        
        {isFirstCard ? (
          <>
            <!-- First card: Rectangular cut from top-right corner (4/12 width) -->
            <div class="absolute top-0 right-0 w-1/3 h-12 bg-secondary"></div>
            <!-- Main color triangles to soften the entrance to the rectangle -->
            <div class="absolute top-0 right-1/3 w-0 h-0 border-r-[15px] border-r-main border-t-[15px] border-t-transparent"></div>
            <div class="absolute top-[33px] right-0 w-0 h-0 border-l-[15px] border-l-main border-b-[15px] border-b-transparent"></div>
            <!-- Black triangle inside the rectangle for better visual -->
            <div class="absolute top-[33px] right-1/3 w-0 h-0 border-r-[15px] border-r-transparent border-b-[15px] border-b-main"></div>
            <!-- Small triangles for other corners -->
            <div class="absolute top-0 left-0 w-0 h-0 border-r-[15px] border-r-transparent border-t-[15px] border-t-secondary"></div>
            <div class="absolute bottom-0 left-0 w-0 h-0 border-r-[15px] border-r-transparent border-b-[15px] border-b-secondary"></div>
            <div class="absolute bottom-0 right-0 w-0 h-0 border-l-[15px] border-l-transparent border-b-[15px] border-b-secondary"></div>
          </>
        ) : (
          <>
            <!-- Regular cards: Corner triangles in all corners -->
            <div class="absolute top-0 left-0 w-0 h-0 border-r-[15px] border-r-transparent border-t-[15px] border-t-secondary"></div>
            <div class="absolute top-0 right-0 w-0 h-0 border-l-[15px] border-l-transparent border-t-[15px] border-t-secondary"></div>
            <div class="absolute bottom-0 left-0 w-0 h-0 border-r-[15px] border-r-transparent border-b-[15px] border-b-secondary"></div>
            <div class="absolute bottom-0 right-0 w-0 h-0 border-l-[15px] border-l-transparent border-b-[15px] border-b-secondary"></div>
          </>
        )}
      </div>
    );
  })}
</div>