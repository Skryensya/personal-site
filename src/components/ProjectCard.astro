---
import { type CollectionEntry } from "astro:content";
import ImageFramed from "./ImageFramed.astro";

type Props = {
  project: CollectionEntry<"projects">;
  class?: string;
  headingLevel?: "h2" | "h3";
};

const {
  project,
  class: className,
  headingLevel = "h2",
} = Astro.props;
const { title, description, seo } = project.data;
const { src, alt } = seo?.image || {};
const TitleTag = headingLevel;
---

<a
  class:list={[
    "group grid grid-cols-1 grid-rows-[auto,1fr] gap-4 rounded-md border border-zinc-200/80 p-4 transition-colors hover:bg-zinc-100 dark:border-zinc-800/80 dark:hover:bg-zinc-800/50",
    className,
  ]}
  href={`/projects/${project.slug}/`}
>
  <div class="relative overflow-hidden rounded-md">
    <ImageFramed
      src={src}
      alt={alt}
      size="0px"
      radius="2px"
      class="grayscale brightness-50 transition-all duration-300 group-hover:scale-105 group-hover:grayscale-0 group-hover:brightness-100"
    />
    <div
      class="absolute inset-0 z-10 bg-main mix-blend-screen transition-opacity duration-300 group-hover:opacity-0"
    >
    </div>
  </div>
  <div class="flex flex-col">
    <TitleTag
      class="text-lg font-medium leading-tight text-zinc-900 dark:text-zinc-50"
    >
      {title}
    </TitleTag>
    {
      description && (
        <div class="mt-1 text-sm text-zinc-500 dark:text-zinc-400">
          {description}
        </div>
      )
    }
  </div>
</a>
