---
import { getTranslations } from '@/i18n/utils';
import { defaultLang, type Language, ui } from '@/i18n/ui';

interface Props {
  lang?: Language;
}

const { lang = defaultLang } = Astro.props;
const t = getTranslations(lang);
const translations = ui[lang];
---

<article class="max-w-none">
  <h1 id="accessibility-title" class="!text-2xl font-bold text-main mb-6 font-mono">
    {t('accessibility.title')}
  </h1>

  <div class="space-y-6 text-main text-base leading-relaxed">
    <section>
      <h2 id="commitment" class="text-lg font-semibold text-main mb-3 font-mono">
        {t('accessibility.commitment.title')}
      </h2>
      <p class="mb-4">
        {t('accessibility.commitment.content')}
      </p>
    </section>

    <section>
      <h2 id="standards" class="text-lg font-semibold text-main mb-3 font-mono">
        {t('accessibility.standards.title')}
      </h2>
      <div class="space-y-3">
        <p>
          {t('accessibility.standards.content').split('(WCAG)')[0]}(<a
            href={t('accessibility.standards.wcag.url')}
            target="_blank"
            rel="noopener noreferrer"
            class="text-main underline hover:bg-main hover:text-secondary transition-colors"
          >{t('accessibility.standards.wcag.text')}</a>){t('accessibility.standards.content').split('(WCAG)')[1] || ''}
        </p>
      </div>
    </section>

    <section>
      <h2 id="features" class="text-lg font-semibold text-main mb-3 font-mono">
        {t('accessibility.features.title')}
      </h2>
      <div class="space-y-3">
        {(translations['accessibility.features.items'] as readonly string[]).map((item: string) => (
          <p>{item}</p>
        ))}
      </div>
    </section>

    <section>
      <h2 id="feedback" class="text-lg font-semibold text-main mb-3 font-mono">
        {t('accessibility.feedback.title')}
      </h2>
      <p class="mb-3">
        {t('accessibility.feedback.content')}
      </p>
      <p>
        {t('accessibility.feedback.contact')}
        <a href="mailto:allison.jpb+accessibility@gmail.com"
           class="text-main underline hover:bg-main hover:text-secondary transition-colors">
          allison.jpb+accessibility@gmail.com
        </a>
      </p>
    </section>

    <section>
      <h2 id="updates" class="text-lg font-semibold text-main mb-3 font-mono">
        {t('accessibility.updates.title')}
      </h2>
      <p>
        {t('accessibility.updates.content')}
      </p>
    </section>
  </div>
</article>