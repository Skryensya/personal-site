@import "./tailwind.config.css";

@layer base {
    :root {
        --main-hue: 0;
        --selection-opacity: 0.8;
        --user-selection-color: hsl(var(--main-hue), 80%, 50%);
        --max-w-size: 1280px;
    }

    /* Tech font optimization */
    * {
        font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
        border-color: var(--color-main);
    }

    body {
        font-family: 'Space Grotesk', sans-serif;
        font-weight: 400;
        font-variant-numeric: tabular-nums;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-family: 'Space Grotesk', sans-serif;
        font-weight: 600;
        letter-spacing: -0.025em;
    }

    code,
    pre,
    .mono {
        font-family: 'JetBrains Mono', 'IBM Plex Mono', monospace;
        font-weight: 400;
        font-variant-ligatures: none;
    }

    ::selection {
        background: var(--user-selection-color);
        color: var(--color-secondary);
        font-weight: 700 !important;
    }

    a::selection {
        background: var(--user-selection-color);
        color: var(--color-secondary);
    }

    /* No transitions needed - color updates every frame */
    *:focus {
        /* outline: 3px solid #2b90d4 !important; */
        outline-offset: 3px;
    }

    :root {
        overflow-x: hidden;
    }

    /* 
     * Theme Color Abstraction System
     * 
     * Each theme defines:
     * - --theme-colorful: The vibrant brand/theme color
     * - --theme-contrasty: The neutral contrasting color
     * 
     * The system automatically assigns:
     * Light mode: colorful text on contrasty background (more readable)
     * Dark mode: contrasty text on colorful background (more vivid)
     * 
     * This makes it intuitive to choose which color should be prominent in each mode
     */

    /* Default theme - Void enhanced */
    :root {
        --theme-colorful: #f5f7fa;
        --theme-contrasty: #0a0c10;

        /* Light mode: contrasty text on colorful background (light bg) */
        --color-main: var(--theme-contrasty);
        --color-secondary: var(--theme-colorful);
    }

    html.dark {
        /* Dark mode: colorful text on contrasty background (dark bg) */
        --color-main: var(--theme-colorful);
        --color-secondary: var(--theme-contrasty);
    }

    /* Void theme */
    :root[data-theme='void'] {
        --theme-colorful: #f5f7fa; /* Pure crisp white with slight blue undertone */
        --theme-contrasty: #0a0c10; /* Deep space black with blue hint */
    }

    /* Phantom theme */
    :root[data-theme='phantom'] {
        --theme-colorful: #00ff41; /* Pure matrix green - iconic and sharp */
        --theme-contrasty: #0d1b0f; /* Rich dark green with depth */
    }

    /* Bloom theme */
    :root[data-theme='bloom'] {
        --theme-colorful: #ff4d87; /* Vibrant cherry blossom - more saturated */
        --theme-contrasty: #1f0e16; /* Deep burgundy black */
    }

    /* Crimson theme */
    :root[data-theme='crimson'] {
        --theme-colorful: #dc143c; /* Classic crimson - rich and powerful */
        --theme-contrasty: #1a0408; /* Almost black with red undertone */
    }

    /* Azure theme */
    :root[data-theme='azure'] {
        --theme-colorful: #0080ff; /* Perfect azure - bright but not harsh */
        --theme-contrasty: #060f1c; /* Deep midnight blue */
    }

    /* Volt theme */
    :root[data-theme='volt'] {
        --theme-colorful: #f0ff00; /* Electric lime - more energetic than pure yellow */
        --theme-contrasty: #1c1f06; /* Dark olive with yellow undertone */
    }

    /* Forest theme */
    :root[data-theme='forest'] {
        --theme-colorful: #2d5a2d; /* Rich forest green - more sophisticated */
        --theme-contrasty: #0b1a0b; /* Deep forest night */
    }

    /* Ember theme */
    :root[data-theme='ember'] {
        --theme-colorful: #ff5722; /* Perfect ember orange - warm and glowing */
        --theme-contrasty: #1a0e06; /* Deep amber black */
    }

    /* Flame theme */
    :root[data-theme='flame'] {
        --theme-colorful: #ff6600; /* Pure flame orange - intense heat */
        --theme-contrasty: #1f1100; /* Dark flame base */
    }

    /* Violet theme */
    :root[data-theme='violet'] {
        --theme-colorful: #8a2be2; /* Blue violet - more refined than orchid */
        --theme-contrasty: #14081f; /* Deep violet black */
    }

    /* Plasma theme */
    :root[data-theme='plasma'] {
        --theme-colorful: #00e5ff; /* Electric cyan - bright plasma blue */
        --theme-contrasty: #051f1f; /* Deep teal black */
    }

    /* Solar theme */
    :root[data-theme='solar'] {
        --theme-colorful: #ffb347; /* Warm solar peach - softer than pure orange */
        --theme-contrasty: #1f1608; /* Rich golden black */
    }

    /* Frost theme */
    :root[data-theme='frost'] {
        --theme-colorful: #87ceeb; /* Sky blue - cooler and more icy */
        --theme-contrasty: #0c1b1e; /* Deep frost black */
    }

    /* Neon theme */
    :root[data-theme='neon'] {
        --theme-colorful: #ff0080; /* Hot magenta - more electric than pure magenta */
        --theme-contrasty: #1f051a; /* Deep magenta black */
    }

    /* Pulse theme */
    :root[data-theme='pulse'] {
        --theme-colorful: #ff3366; /* Bright coral pink - more energetic */
        --theme-contrasty: #1a0810; /* Deep rose black */
    }

    /* Prism theme - Uses user selection color */
    :root[data-theme='prism'] {
        --theme-colorful: var(--user-selection-color); /* Dynamic user selection color */
        --theme-contrasty: #0f0f0f; /* Pure neutral dark */
    }

    /* Enhanced CRT Effect - Pure Overlay */
    .crt-effect::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
        z-index: 9999;

        /* Scanlines suaves y estables */
        background: repeating-linear-gradient(0deg, rgba(0, 0, 0, 0.12) 0px, rgba(0, 0, 0, 0.12) 1px, transparent 1px, transparent 3px);
        animation: crt-scanlines 1.2s linear infinite;
    }

    .crt-effect::after {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
        z-index: 9998;

        /* CRT shadows mejoradas - no tapan contenido */
        background: 
            /* Vignette principal más sutil */
            radial-gradient(
                ellipse 95% 95% at center,
                transparent 75%,
                rgba(0, 0, 0, 0.05) 85%,
                rgba(0, 0, 0, 0.1) 92%,
                rgba(0, 0, 0, 0.2) 96%,
                rgba(0, 0, 0, 0.4) 98%,
                rgba(0, 0, 0, 0.6) 100%
            ),
            /* Sombras laterales finas */
                linear-gradient(
                    90deg,
                    rgba(0, 0, 0, 0.5) 0%,
                    rgba(0, 0, 0, 0.3) 2%,
                    rgba(0, 0, 0, 0.1) 4%,
                    transparent 6%,
                    transparent 94%,
                    rgba(0, 0, 0, 0.1) 96%,
                    rgba(0, 0, 0, 0.3) 98%,
                    rgba(0, 0, 0, 0.5) 100%
                ),
            /* Sombras verticales finas */
                linear-gradient(
                    0deg,
                    rgba(0, 0, 0, 0.4) 0%,
                    rgba(0, 0, 0, 0.2) 1%,
                    rgba(0, 0, 0, 0.1) 2%,
                    transparent 4%,
                    transparent 96%,
                    rgba(0, 0, 0, 0.1) 98%,
                    rgba(0, 0, 0, 0.2) 99%,
                    rgba(0, 0, 0, 0.4) 100%
                ),
            /* Esquinas sutiles para profundidad */ radial-gradient(ellipse 60px 40px at 0% 0%, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.1) 50%, transparent 100%),
            radial-gradient(ellipse 60px 40px at 100% 0%, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.1) 50%, transparent 100%),
            radial-gradient(ellipse 60px 40px at 0% 100%, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.1) 50%, transparent 100%),
            radial-gradient(ellipse 60px 40px at 100% 100%, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.1) 50%, transparent 100%);
    }

    /* Phosphor glow effect sutil */
    .crt-effect {
        filter: contrast(1.1) saturate(1.3);
    }

    .crt-effect * {
        text-shadow:
            0 0 1px currentColor,
            0 0 2px rgba(255, 255, 255, 0.1);
    }

    /* Sin flicker effect para menos distracción */
    /* .crt-effect {
        animation: none;
    } */

    /* Animaciones suaves para CRT */
    @keyframes crt-scanlines {
        0% {
            transform: translateY(0);
        }
        100% {
            transform: translateY(3px);
        }
    }
}
.wavy {
    background-color: var(--color-main);
    --mask: radial-gradient(4.13px at 50% calc(100% + 0.9px), #0000 calc(99% - 2px), var(--color-main) calc(101% - 2px) 99%, #0000 101%) calc(50% - 6px)
            calc(50% - 2.5px + 0.5px) / 12px 5px repeat-x,
        radial-gradient(4.13px at 50% -0.9px, #0000 calc(99% - 2px), var(--color-main) calc(101% - 2px) 99%, #0000 101%) 50% calc(50% + 2.5px) / 12px 5px
            repeat-x;
    -webkit-mask: var(--mask);
    mask: var(--mask);
}

/* Corner crosses utility */
.corner-crosses {
    position: relative;
}

.corner-crosses::before,
.corner-crosses::after {
    content: '';
    position: absolute;
    width: 8px;
    height: 8px;
    pointer-events: none;
}

/* Top-left and top-right crosses */
.corner-crosses::before {
    top: -0.5px;
    left: -0.5px;
    background-image: 
        linear-gradient(to right, var(--color-main) 1px, transparent 1px),
        linear-gradient(to bottom, var(--color-main) 1px, transparent 1px);
    background-position: 0 3.5px, 3.5px 0;
    background-size: 8px 1px, 1px 8px;
    background-repeat: no-repeat;
}

.corner-crosses::after {
    top: -0.5px;
    right: -0.5px;
    background-image:
        linear-gradient(to left, var(--color-main) 1px, transparent 1px),
        linear-gradient(to bottom, var(--color-main) 1px, transparent 1px);
    background-position: 0 3.5px, 4.5px 0;
    background-size: 8px 1px, 1px 8px;
    background-repeat: no-repeat;
}
